<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>C12Adapter Opensource C++ Interface: MCriticalSection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">C12Adapter Opensource C++ Interface
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_m_critical_section.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_m_critical_section-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MCriticalSection Class Reference<div class="ingroups"><a class="el" href="group___m_c_o_r_e.html">MCORE</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>System independent lightweight synchronization object.  
 <a href="class_m_critical_section.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_critical_section_1_1_locker.html">Locker</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class that helps dealing with critical sections within a single execution scope.  <a href="class_m_critical_section_1_1_locker.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2de7960a14a2452fcef7e684e2850c59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_critical_section.html#a2de7960a14a2452fcef7e684e2850c59">MCriticalSection</a> ()</td></tr>
<tr class="memdesc:a2de7960a14a2452fcef7e684e2850c59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor of the critical section.  <a href="#a2de7960a14a2452fcef7e684e2850c59">More...</a><br /></td></tr>
<tr class="separator:a2de7960a14a2452fcef7e684e2850c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc9c2c7d88c6d58effd07be643bf0493"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_critical_section.html#afc9c2c7d88c6d58effd07be643bf0493">~MCriticalSection</a> ()</td></tr>
<tr class="memdesc:afc9c2c7d88c6d58effd07be643bf0493"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#afc9c2c7d88c6d58effd07be643bf0493">More...</a><br /></td></tr>
<tr class="separator:afc9c2c7d88c6d58effd07be643bf0493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac125f6c94567db3621c770f6ea9f51d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_critical_section.html#aac125f6c94567db3621c770f6ea9f51d">Lock</a> () const </td></tr>
<tr class="memdesc:aac125f6c94567db3621c770f6ea9f51d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock the critical section for exclusive usage of resources.  <a href="#aac125f6c94567db3621c770f6ea9f51d">More...</a><br /></td></tr>
<tr class="separator:aac125f6c94567db3621c770f6ea9f51d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9c2bf930471f1e98277306f5fa2df2b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_critical_section.html#af9c2bf930471f1e98277306f5fa2df2b">TryLock</a> () const </td></tr>
<tr class="memdesc:af9c2bf930471f1e98277306f5fa2df2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to acquire a lock on the critical section for exclusive usage of resources.  <a href="#af9c2bf930471f1e98277306f5fa2df2b">More...</a><br /></td></tr>
<tr class="separator:af9c2bf930471f1e98277306f5fa2df2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bde673d0711dbe8fb682fa8cf36115c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_critical_section.html#a5bde673d0711dbe8fb682fa8cf36115c">Unlock</a> () const </td></tr>
<tr class="memdesc:a5bde673d0711dbe8fb682fa8cf36115c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock the critical section.  <a href="#a5bde673d0711dbe8fb682fa8cf36115c">More...</a><br /></td></tr>
<tr class="separator:a5bde673d0711dbe8fb682fa8cf36115c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>System independent lightweight synchronization object. </p>
<p>Critical section resembles the interface of <a class="el" href="class_m_synchronizer.html" title="Abstract synchronizer object. ">MSynchronizer</a> object, however it is not derived from it due to an implementation detail. Critical section works on the thread level only, one cannot use critical sections to synchronize processes. Different from synchronizer objects, critical sections are implemented in a way that if multithreading is not defined, they can still be used in the source code, however they will perform no action. Critical section is reentrant on a per-thread basis, therefore it can be entered multiple times from the same thread, in which case it shall be left from this thread the same number of times in order for the critical section to be released.</p>
<p><a class="anchor" id="MCriticalSection_usage"></a>Critical section is very often used with the Lock helper class as the following: </p><div class="fragment"><div class="line"><a class="code" href="class_m_critical_section.html">MCriticalSection</a> criticalSection;</div><div class="line">...</div><div class="line">void MyFunction()</div><div class="line">{</div><div class="line">   <a class="code" href="class_m_critical_section_1_1_locker.html">MCriticalSection::Locker</a> lock(criticalSection);</div><div class="line">   ... <span class="comment">// do any protected operation</span></div><div class="line">   <span class="comment">// critical section will be unlocked here automatically</span></div><div class="line">}</div></div><!-- fragment --><p> A typical error is to omit variable declaration in the locker like this: </p><div class="fragment"><div class="line"><a class="code" href="class_m_critical_section_1_1_locker.html">MCriticalSection::Locker</a>(criticalSection); <span class="comment">// ERROR! critical section does not extend scope</span></div><div class="line">... <span class="comment">// THIS WILL NOT BE PROTECTED BY CRITICAL SECTION!</span></div></div><!-- fragment --><p> in which case the locker will not do what it is designed for. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2de7960a14a2452fcef7e684e2850c59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MCriticalSection::MCriticalSection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor of the critical section. </p>
<dl class="section pre"><dt>Precondition</dt><dd>There should be enough of system resources, otherwise the behavior is undefined. </dd></dl>

</div>
</div>
<a class="anchor" id="afc9c2c7d88c6d58effd07be643bf0493"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MCriticalSection::~MCriticalSection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>
<dl class="section pre"><dt>Precondition</dt><dd>No object should wait or lock this particular critical section, otherwise the behavior is undefined. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aac125f6c94567db3621c770f6ea9f51d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MCriticalSection::Lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lock the critical section for exclusive usage of resources. </p>
<p>If the critical section is locked by another thread, the call will wait until the resource is freed, and then lock the section.</p>
<p>Critical section can be locked multiple times by the same thread, in which case it shall be unlocked by the same number of times for the critical section to become released.</p>
<dl class="section pre"><dt>Precondition</dt><dd>Critical section should be valid, and there should be enough system resources, otherwise the behavior is undefined.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_m_critical_section_1_1_locker.html" title="Class that helps dealing with critical sections within a single execution scope. ">MCriticalSection::Locker</a> - more convenient way of dealing with the critical section </dd></dl>

</div>
</div>
<a class="anchor" id="af9c2bf930471f1e98277306f5fa2df2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MCriticalSection::TryLock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempt to acquire a lock on the critical section for exclusive usage of resources. </p>
<p>This method never waits. If the critical section is locked by another thread, the call will return false immediately, otherwise it will lock the section. If the call returns false, Unlock shall not be called to release the section.</p>
<p>Critical section can be locked multiple times by the same thread, in which case it shall be unlocked by the same number of times for the critical section to become released.</p>
<dl class="section pre"><dt>Precondition</dt><dd>Critical section should be valid, and there should be enough system resources, otherwise the behavior is undefined.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_m_critical_section.html#aac125f6c94567db3621c770f6ea9f51d" title="Lock the critical section for exclusive usage of resources. ">MCriticalSection::Lock</a> - wait until the section is acquired </dd></dl>

</div>
</div>
<a class="anchor" id="a5bde673d0711dbe8fb682fa8cf36115c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MCriticalSection::Unlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlock the critical section. </p>
<p>If the critical section is entered multiple times by the same thread, it will not be released until unlocked the same number of times.</p>
<dl class="section pre"><dt>Precondition</dt><dd>Critical section should be previously locked by this object, otherwise the behavior is undefined.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_m_critical_section_1_1_locker.html" title="Class that helps dealing with critical sections within a single execution scope. ">MCriticalSection::Locker</a> - more convenient way of dealing with the critical section </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_m_critical_section.html">MCriticalSection</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
