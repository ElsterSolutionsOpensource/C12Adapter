<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>C12Adapter Opensource C++ Interface: MSharedPointer&lt; C &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">C12Adapter Opensource C++ Interface
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_m_shared_pointer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_m_shared_pointer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MSharedPointer&lt; C &gt; Class Template Reference<div class="ingroups"><a class="el" href="group___m_c_o_r_e.html">MCORE</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Generic intrusive shared pointer.  
 <a href="class_m_shared_pointer.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a58259cdc18c414d247351211dff65254"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a58259cdc18c414d247351211dff65254"></a>
typedef C&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#a58259cdc18c414d247351211dff65254">ClientType</a></td></tr>
<tr class="memdesc:a58259cdc18c414d247351211dff65254"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static type of the client class or its parent as used during template definition. <br /></td></tr>
<tr class="separator:a58259cdc18c414d247351211dff65254"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad7da39eb2d3139d72595b7ef104847cc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad7da39eb2d3139d72595b7ef104847cc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#ad7da39eb2d3139d72595b7ef104847cc">MSharedPointer</a> ()</td></tr>
<tr class="memdesc:ad7da39eb2d3139d72595b7ef104847cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor to initialize the pointer to <code>NULL</code> value. <br /></td></tr>
<tr class="separator:ad7da39eb2d3139d72595b7ef104847cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0172bf6b4a48ab95306494da833b74bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#a0172bf6b4a48ab95306494da833b74bd">MSharedPointer</a> (C *client)</td></tr>
<tr class="memdesc:a0172bf6b4a48ab95306494da833b74bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor that takes a pointer to client as parameter.  <a href="#a0172bf6b4a48ab95306494da833b74bd">More...</a><br /></td></tr>
<tr class="separator:a0172bf6b4a48ab95306494da833b74bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cc81c5a3de51962fffdaf1fe592eb1a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#a9cc81c5a3de51962fffdaf1fe592eb1a">MSharedPointer</a> (const <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a> &amp;other)</td></tr>
<tr class="memdesc:a9cc81c5a3de51962fffdaf1fe592eb1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor that takes another shared pointer.  <a href="#a9cc81c5a3de51962fffdaf1fe592eb1a">More...</a><br /></td></tr>
<tr class="separator:a9cc81c5a3de51962fffdaf1fe592eb1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9552cdc49c734fa5516b0f277ef8088d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#a9552cdc49c734fa5516b0f277ef8088d">~MSharedPointer</a> ()</td></tr>
<tr class="memdesc:a9552cdc49c734fa5516b0f277ef8088d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared pointer destructor.  <a href="#a9552cdc49c734fa5516b0f277ef8088d">More...</a><br /></td></tr>
<tr class="separator:a9552cdc49c734fa5516b0f277ef8088d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e1e454d623767bc506dddecaa80f796"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#a1e1e454d623767bc506dddecaa80f796">GetNumberOfReferences</a> () const </td></tr>
<tr class="memdesc:a1e1e454d623767bc506dddecaa80f796"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current number of usage references in the object.  <a href="#a1e1e454d623767bc506dddecaa80f796">More...</a><br /></td></tr>
<tr class="separator:a1e1e454d623767bc506dddecaa80f796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a489b3bcc5a4530ca6c4570cd70f599d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_m_shared_pointer.html">MSharedPointer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#a489b3bcc5a4530ca6c4570cd70f599d4">operator=</a> (const <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a> &amp;other)</td></tr>
<tr class="memdesc:a489b3bcc5a4530ca6c4570cd70f599d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assignment operator that takes another shared pointer.  <a href="#a489b3bcc5a4530ca6c4570cd70f599d4">More...</a><br /></td></tr>
<tr class="separator:a489b3bcc5a4530ca6c4570cd70f599d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf3ea22be071aafaa2d123326e0be25d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_m_shared_pointer.html">MSharedPointer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#acf3ea22be071aafaa2d123326e0be25d">operator=</a> (C *ptr)</td></tr>
<tr class="memdesc:acf3ea22be071aafaa2d123326e0be25d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assignment operator that takes a pointer.  <a href="#acf3ea22be071aafaa2d123326e0be25d">More...</a><br /></td></tr>
<tr class="separator:acf3ea22be071aafaa2d123326e0be25d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a161a23b3a2a1884db9f352b78eecdcc1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#a161a23b3a2a1884db9f352b78eecdcc1">operator C *</a> () const </td></tr>
<tr class="memdesc:a161a23b3a2a1884db9f352b78eecdcc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the pointer that is associated with this shared pointer class.  <a href="#a161a23b3a2a1884db9f352b78eecdcc1">More...</a><br /></td></tr>
<tr class="separator:a161a23b3a2a1884db9f352b78eecdcc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae994cf542d98a3c557135b5d91a66fc9"><td class="memItemLeft" align="right" valign="top">C &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#ae994cf542d98a3c557135b5d91a66fc9">operator*</a> ()</td></tr>
<tr class="memdesc:ae994cf542d98a3c557135b5d91a66fc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the reference to client C object associated with this shared pointer class.  <a href="#ae994cf542d98a3c557135b5d91a66fc9">More...</a><br /></td></tr>
<tr class="separator:ae994cf542d98a3c557135b5d91a66fc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe048bf8011808027b0ba68989ac8c38"><td class="memItemLeft" align="right" valign="top">const C &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#abe048bf8011808027b0ba68989ac8c38">operator*</a> () const </td></tr>
<tr class="memdesc:abe048bf8011808027b0ba68989ac8c38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the constant reference to client C object associated with this shared pointer class.  <a href="#abe048bf8011808027b0ba68989ac8c38">More...</a><br /></td></tr>
<tr class="separator:abe048bf8011808027b0ba68989ac8c38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e46463d5083441469090bc7fd834e4a"><td class="memItemLeft" align="right" valign="top">C *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#a0e46463d5083441469090bc7fd834e4a">operator-&gt;</a> ()</td></tr>
<tr class="memdesc:a0e46463d5083441469090bc7fd834e4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dereference the pointer that is associated with this shared pointer class.  <a href="#a0e46463d5083441469090bc7fd834e4a">More...</a><br /></td></tr>
<tr class="separator:a0e46463d5083441469090bc7fd834e4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b98393cfce21a57b3da3b23bba9f6bc"><td class="memItemLeft" align="right" valign="top">const C *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#a9b98393cfce21a57b3da3b23bba9f6bc">operator-&gt;</a> () const </td></tr>
<tr class="memdesc:a9b98393cfce21a57b3da3b23bba9f6bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dereference the constant pointer that is associated with this shared pointer class.  <a href="#a9b98393cfce21a57b3da3b23bba9f6bc">More...</a><br /></td></tr>
<tr class="separator:a9b98393cfce21a57b3da3b23bba9f6bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02afe7c8ed301671740207f43c9223de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#a02afe7c8ed301671740207f43c9223de">DoAddRef</a> ()</td></tr>
<tr class="memdesc:a02afe7c8ed301671740207f43c9223de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the reference to the client object.  <a href="#a02afe7c8ed301671740207f43c9223de">More...</a><br /></td></tr>
<tr class="separator:a02afe7c8ed301671740207f43c9223de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a286678c2979ace2c7f65992ba4814d16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#a286678c2979ace2c7f65992ba4814d16">DoReleaseRef</a> ()</td></tr>
<tr class="memdesc:a286678c2979ace2c7f65992ba4814d16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the reference to the client object.  <a href="#a286678c2979ace2c7f65992ba4814d16">More...</a><br /></td></tr>
<tr class="separator:a286678c2979ace2c7f65992ba4814d16"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a3b3d79709991480b6bac6476197230e6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3b3d79709991480b6bac6476197230e6"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#a3b3d79709991480b6bac6476197230e6">operator==</a> (const <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt; &amp;p1, const <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt; &amp;p2)</td></tr>
<tr class="memdesc:a3b3d79709991480b6bac6476197230e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equality comparison operator that takes two shared pointers. <br /></td></tr>
<tr class="separator:a3b3d79709991480b6bac6476197230e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e818e854267eda6ecf58e2a7ef87bd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a72e818e854267eda6ecf58e2a7ef87bd"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#a72e818e854267eda6ecf58e2a7ef87bd">operator==</a> (const <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt; &amp;p1, const C *p2)</td></tr>
<tr class="memdesc:a72e818e854267eda6ecf58e2a7ef87bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equality comparison operator that takes a shared pointer and a pointer. <br /></td></tr>
<tr class="separator:a72e818e854267eda6ecf58e2a7ef87bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32cd4212e1658980979e7c26d2961761"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32cd4212e1658980979e7c26d2961761"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#a32cd4212e1658980979e7c26d2961761">operator==</a> (const C *p1, const <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt; &amp;p2)</td></tr>
<tr class="memdesc:a32cd4212e1658980979e7c26d2961761"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equality comparison operator that takes a pointer and a shared pointer. <br /></td></tr>
<tr class="separator:a32cd4212e1658980979e7c26d2961761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23f6ea17024dba1f637941dac8eedf7d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a23f6ea17024dba1f637941dac8eedf7d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#a23f6ea17024dba1f637941dac8eedf7d">operator!=</a> (const <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt; &amp;p1, const <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt; &amp;p2)</td></tr>
<tr class="memdesc:a23f6ea17024dba1f637941dac8eedf7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inequality comparison operator that takes two shared pointers. <br /></td></tr>
<tr class="separator:a23f6ea17024dba1f637941dac8eedf7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a36c1c839a32a3e2bb33b8e07e78fb5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8a36c1c839a32a3e2bb33b8e07e78fb5"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#a8a36c1c839a32a3e2bb33b8e07e78fb5">operator!=</a> (const <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt; &amp;p1, const C *p2)</td></tr>
<tr class="memdesc:a8a36c1c839a32a3e2bb33b8e07e78fb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inequality comparison operator that takes a shared pointer and a pointer. <br /></td></tr>
<tr class="separator:a8a36c1c839a32a3e2bb33b8e07e78fb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47f247b65878cad6c785d2289ae35afd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47f247b65878cad6c785d2289ae35afd"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_shared_pointer.html#a47f247b65878cad6c785d2289ae35afd">operator!=</a> (const C *p1, const <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt; &amp;p2)</td></tr>
<tr class="memdesc:a47f247b65878cad6c785d2289ae35afd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inequality comparison operator that takes a pointer and a shared pointer. <br /></td></tr>
<tr class="separator:a47f247b65878cad6c785d2289ae35afd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class C&gt;<br />
class MSharedPointer&lt; C &gt;</h3>

<p>Generic intrusive shared pointer. </p>
<p>Shared pointer should be used for those classes, where ownership is shared among objects that can have different and generally unpredictable life spans. An important restriction is that there should be no circular dependency in shared ownership of such objects, as in this case the objects will hold references to themselves forever. Also, shared pointer cannot hold an array of elements. These restrictions shall be watched at design and development time.</p>
<p>The reason why the intrusive shared pointer is implemented as a set of macros is to avoid multiple inheritance for types that have to be parts of the existing implementation hierarchy. While macros are somewhat uglier, they do what we want.</p>
<p>The class to which a shared pointer can point should include a macro <a class="el" href="group___m_c_o_r_e.html#ga81b5cc37226d7abb52d91d97a9a239b9">M_SHARED_POINTER_CLASS</a>, which will define a special <code>typedef</code> <code>SharedPointer</code>, and a set of private definitions to handle sharing. Here is an example: </p><div class="fragment"><div class="line"><span class="comment">// Definition:</span></div><div class="line"><span class="keyword">class </span>MSomeClass</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">   MSomeClass()</div><div class="line">   :</div><div class="line">      <a class="code" href="group___m_c_o_r_e.html#ga525295aa073299f9214e120dd5be5131">M_SHARED_POINTER_CLASS_INIT</a></div><div class="line">   {</div><div class="line">   }</div><div class="line"></div><div class="line">   MSomeClass(<span class="keyword">const</span> <a class="code" href="group___m_c_o_r_e.html#gae0f1a09eb8dfba6a5cf718419b3a0304">MStdString</a>&amp; name)</div><div class="line">   :</div><div class="line">      <a class="code" href="group___m_c_o_r_e.html#ga525295aa073299f9214e120dd5be5131">M_SHARED_POINTER_CLASS_INIT</a>,</div><div class="line">      m_name(name)</div><div class="line">   {</div><div class="line">   }</div><div class="line"></div><div class="line">   ....</div><div class="line">   <a class="code" href="group___m_c_o_r_e.html#ga81b5cc37226d7abb52d91d97a9a239b9">M_SHARED_POINTER_CLASS</a>(SomeClass)</div><div class="line">};</div></div><!-- fragment --><p> Usage: </p><div class="fragment"><div class="line">{</div><div class="line">   MSomeClass::SharedPointer ptr = <span class="keyword">new</span> MSomeClass()</div><div class="line">   MSomeClass::SharedPointer otherPtr = ptr;</div><div class="line">   ptr = NULL;</div><div class="line">   otherPtr = NULL; <span class="comment">// delete will be called on MSomeClass object here.</span></div><div class="line">}</div></div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0172bf6b4a48ab95306494da833b74bd"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt;::<a class="el" href="class_m_shared_pointer.html">MSharedPointer</a> </td>
          <td>(</td>
          <td class="paramtype">C *&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor that takes a pointer to client as parameter. </p>
<p>The shared pointer will be initialized and the usage count will be increased in client.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Client object defined with <a class="el" href="group___m_c_o_r_e.html#ga81b5cc37226d7abb52d91d97a9a239b9">M_SHARED_POINTER_CLASS</a> macro </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9cc81c5a3de51962fffdaf1fe592eb1a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt;::<a class="el" href="class_m_shared_pointer.html">MSharedPointer</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt; &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy constructor that takes another shared pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>Other object of the same type or its child</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The shared pointer given is a valid shared object. No explicit checks are done, but in many cases there will be a compile error otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a9552cdc49c734fa5516b0f277ef8088d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt;::~<a class="el" href="class_m_shared_pointer.html">MSharedPointer</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shared pointer destructor. </p>
<p>If the client object is not <code>NULL</code>, decrease the usage count, and when the usage count reaches zero, delete the client object. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a02afe7c8ed301671740207f43c9223de"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt;::DoAddRef </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add the reference to the client object. </p>
<p>If the client is <code>NULL</code>, nothing is done by this call. This service is public, while direct manipulation of reference count should be very rare. </p>

</div>
</div>
<a class="anchor" id="a286678c2979ace2c7f65992ba4814d16"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt;::DoReleaseRef </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Release the reference to the client object. </p>
<p>If the client is <code>NULL</code>, nothing is done by this call. If the count reaches zero, delete client object and nullify pointer. This service is public, while direct manipulation of reference count should be very rare. </p>

</div>
</div>
<a class="anchor" id="a1e1e454d623767bc506dddecaa80f796"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt;::GetNumberOfReferences </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the current number of usage references in the object. </p>
<p>If the shared pointer is <code>NULL</code>, return zero by convention. If the shared pointer is not <code>NULL</code>, zero count is impossible due to implementation. </p>

</div>
</div>
<a class="anchor" id="a161a23b3a2a1884db9f352b78eecdcc1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt;::operator C * </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the pointer that is associated with this shared pointer class. </p>
<p>This makes possible the pointer-like behavior of this class. </p>

</div>
</div>
<a class="anchor" id="ae994cf542d98a3c557135b5d91a66fc9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">C&amp; <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt;::operator* </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the reference to client C object associated with this shared pointer class. </p>
<p>This makes possible the pointer-like behavior of this class.</p>
<dl class="section pre"><dt>Precondition</dt><dd>On debug build, the assertion is done whether the pointer is not <code>NULL</code>. </dd></dl>

</div>
</div>
<a class="anchor" id="abe048bf8011808027b0ba68989ac8c38"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const C&amp; <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt;::operator* </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the constant reference to client C object associated with this shared pointer class. </p>
<p>This makes possible the pointer-like behavior of this class.</p>
<dl class="section pre"><dt>Precondition</dt><dd>On debug build, the assertion is done whether the pointer is not <code>NULL</code>. </dd></dl>

</div>
</div>
<a class="anchor" id="a0e46463d5083441469090bc7fd834e4a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">C* <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt;::operator-&gt; </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dereference the pointer that is associated with this shared pointer class. </p>
<p>This makes possible the pointer-like behavior of this class.</p>
<dl class="section pre"><dt>Precondition</dt><dd>The C object has to be associated with this object. Otherwise there is an assertion hit in the debugging version. </dd></dl>

</div>
</div>
<a class="anchor" id="a9b98393cfce21a57b3da3b23bba9f6bc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const C* <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt;::operator-&gt; </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dereference the constant pointer that is associated with this shared pointer class. </p>
<p>This makes possible the pointer-like behavior of this class.</p>
<dl class="section pre"><dt>Precondition</dt><dd>The C object has to be associated with this object. Otherwise there is an assertion hit in the debugging version. </dd></dl>

</div>
</div>
<a class="anchor" id="a489b3bcc5a4530ca6c4570cd70f599d4"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&amp; <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt; &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assignment operator that takes another shared pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>Other object of the same type or its child</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The shared pointer given is a valid shared object, not a <code>NULL</code>. No explicit checks are done, but in many cases there will be a compile error otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="acf3ea22be071aafaa2d123326e0be25d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class C &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&amp; <a class="el" href="class_m_shared_pointer.html">MSharedPointer</a>&lt; C &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype">C *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assignment operator that takes a pointer. </p>
<dl class="section pre"><dt>Precondition</dt><dd>The shared pointer given is a valid shared object, not a <code>NULL</code>. No explicit checks are done, but in many cases there will be a compile error otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_m_shared_pointer.html">MSharedPointer</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
