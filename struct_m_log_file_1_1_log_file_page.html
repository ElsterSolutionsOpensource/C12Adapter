<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>C12Adapter Opensource C++ Interface: MLogFile::LogFilePage Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">C12Adapter Opensource C++ Interface
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('struct_m_log_file_1_1_log_file_page.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="struct_m_log_file_1_1_log_file_page-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MLogFile::LogFilePage Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Page format of the monitor file.  
 <a href="struct_m_log_file_1_1_log_file_page.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a561619f7717452e89ab2ff5dcad7b654"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_m_log_file_1_1_log_file_page.html#a561619f7717452e89ab2ff5dcad7b654">OnceBeforeWrite</a> ()</td></tr>
<tr class="memdesc:a561619f7717452e89ab2ff5dcad7b654"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update packet so it is ready to be written.  <a href="#a561619f7717452e89ab2ff5dcad7b654">More...</a><br /></td></tr>
<tr class="separator:a561619f7717452e89ab2ff5dcad7b654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad81d9d854ba77b84b123d5063e40a8a1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad81d9d854ba77b84b123d5063e40a8a1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_m_log_file_1_1_log_file_page.html#ad81d9d854ba77b84b123d5063e40a8a1">OnceAfterRead</a> ()</td></tr>
<tr class="memdesc:ad81d9d854ba77b84b123d5063e40a8a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify packet integrity and prepare it for handling. <br /></td></tr>
<tr class="separator:ad81d9d854ba77b84b123d5063e40a8a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:acc01aed8f40fd2b807ae78000b1085f8"><td class="memItemLeft" align="right" valign="top">Muint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_m_log_file_1_1_log_file_page.html#acc01aed8f40fd2b807ae78000b1085f8">m_signature</a></td></tr>
<tr class="memdesc:acc01aed8f40fd2b807ae78000b1085f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Page header signature, equal to constant FILE_HEADER_SIGNATURE.  <a href="#acc01aed8f40fd2b807ae78000b1085f8">More...</a><br /></td></tr>
<tr class="separator:acc01aed8f40fd2b807ae78000b1085f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56cde050a7bfcecb5bda3fd57fb9bd67"><td class="memItemLeft" align="right" valign="top">Muint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_m_log_file_1_1_log_file_page.html#a56cde050a7bfcecb5bda3fd57fb9bd67">m_lastPageIndex</a></td></tr>
<tr class="memdesc:a56cde050a7bfcecb5bda3fd57fb9bd67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last finished page index, if the file is released.  <a href="#a56cde050a7bfcecb5bda3fd57fb9bd67">More...</a><br /></td></tr>
<tr class="separator:a56cde050a7bfcecb5bda3fd57fb9bd67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab08ac2992713f54e15f0ded63daa8a4c"><td class="memItemLeft" align="right" valign="top">Muint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_m_log_file_1_1_log_file_page.html#ab08ac2992713f54e15f0ded63daa8a4c">m_pageCounter</a></td></tr>
<tr class="memdesc:ab08ac2992713f54e15f0ded63daa8a4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Page counter.  <a href="#ab08ac2992713f54e15f0ded63daa8a4c">More...</a><br /></td></tr>
<tr class="separator:ab08ac2992713f54e15f0ded63daa8a4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86b7c2b2a39938f0aa39897789f69260"><td class="memItemLeft" align="right" valign="top">Muint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_m_log_file_1_1_log_file_page.html#a86b7c2b2a39938f0aa39897789f69260">m_firstMessageOffset</a></td></tr>
<tr class="memdesc:a86b7c2b2a39938f0aa39897789f69260"><td class="mdescLeft">&#160;</td><td class="mdescRight">First consistent message offset on this page.  <a href="#a86b7c2b2a39938f0aa39897789f69260">More...</a><br /></td></tr>
<tr class="separator:a86b7c2b2a39938f0aa39897789f69260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85029ac9453daf4e03420dcf017fa12f"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_m_log_file_1_1_log_file_page.html#a85029ac9453daf4e03420dcf017fa12f">m_body</a> [<a class="el" href="class_m_log_file.html#a4abd1cf0b2e94d1bb1b19ac96970a3a5a62754148c694ca0737d759936110cba7">PAGE_BODY_SIZE</a>]</td></tr>
<tr class="memdesc:a85029ac9453daf4e03420dcf017fa12f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Body, stream of messages.  <a href="#a85029ac9453daf4e03420dcf017fa12f">More...</a><br /></td></tr>
<tr class="separator:a85029ac9453daf4e03420dcf017fa12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57fb7c909a2a27be980d4cabc6c0c85f"><td class="memItemLeft" align="right" valign="top">Muint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_m_log_file_1_1_log_file_page.html#a57fb7c909a2a27be980d4cabc6c0c85f">m_checksum</a></td></tr>
<tr class="memdesc:a57fb7c909a2a27be980d4cabc6c0c85f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checksum, sum of all quadruples of bytes in the page excluding the checksum itself.  <a href="#a57fb7c909a2a27be980d4cabc6c0c85f">More...</a><br /></td></tr>
<tr class="separator:a57fb7c909a2a27be980d4cabc6c0c85f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Page format of the monitor file. </p>
<p>Unused message body is filled with zeros. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a561619f7717452e89ab2ff5dcad7b654"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MLogFile::LogFilePage::OnceBeforeWrite </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update packet so it is ready to be written. </p>
<p>Possibly obfuscate and calculate and update checksum. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a85029ac9453daf4e03420dcf017fa12f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char MLogFile::LogFilePage::m_body[<a class="el" href="class_m_log_file.html#a4abd1cf0b2e94d1bb1b19ac96970a3a5a62754148c694ca0737d759936110cba7">PAGE_BODY_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Body, stream of messages. </p>
<p>Messages follow one after another, byte aligned. Each message starts with the message code, then the timestamp, then the size, and then the body. Unused message body is filled with zeros (there is no message code zero). </p>

</div>
</div>
<a class="anchor" id="a57fb7c909a2a27be980d4cabc6c0c85f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Muint32 MLogFile::LogFilePage::m_checksum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checksum, sum of all quadruples of bytes in the page excluding the checksum itself. </p>
<p>Checksum is used to determine that the page has been written fully and successfully. This is part of the page footer. </p>

</div>
</div>
<a class="anchor" id="a86b7c2b2a39938f0aa39897789f69260"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Muint32 MLogFile::LogFilePage::m_firstMessageOffset</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>First consistent message offset on this page. </p>
<p>If the page has a middle of a message, or a tail of the last one, this property will equal to 0xFFFFFFFF. Correspondingly, if the page starts with the message, this is zero. This is part of the page header. </p>

</div>
</div>
<a class="anchor" id="a56cde050a7bfcecb5bda3fd57fb9bd67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Muint32 MLogFile::LogFilePage::m_lastPageIndex</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Last finished page index, if the file is released. </p>
<p>If this is not the first page, or if the file was not closed normally, it will be 0xFFFFFFFF. This is part of the page header. </p>

</div>
</div>
<a class="anchor" id="ab08ac2992713f54e15f0ded63daa8a4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Muint32 MLogFile::LogFilePage::m_pageCounter</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Page counter. </p>
<p>Starts at zero, for every successfully written page this counter is incremented. A proper file will have a range of page counters. </p>

</div>
</div>
<a class="anchor" id="acc01aed8f40fd2b807ae78000b1085f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Muint32 MLogFile::LogFilePage::m_signature</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Page header signature, equal to constant FILE_HEADER_SIGNATURE. </p>
<p>This is part of the page header. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_m_log_file.html">MLogFile</a></li><li class="navelem"><a class="el" href="struct_m_log_file_1_1_log_file_page.html">LogFilePage</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
