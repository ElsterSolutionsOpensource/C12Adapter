<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>C12Adapter Opensource C++ Interface: MCurrentPathSubstitutor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">C12Adapter Opensource C++ Interface
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_m_current_path_substitutor.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_m_current_path_substitutor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MCurrentPathSubstitutor Class Reference<div class="ingroups"><a class="el" href="group___m_c_o_r_e.html">MCORE</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Locally substitute the current path of an application to another current path.  
 <a href="class_m_current_path_substitutor.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8e2b789a808ae2affa0ff66cf0940bcf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_current_path_substitutor.html#a8e2b789a808ae2affa0ff66cf0940bcf">MCurrentPathSubstitutor</a> (const <a class="el" href="group___m_c_o_r_e.html#gae0f1a09eb8dfba6a5cf718419b3a0304">MStdString</a> &amp;newPath)</td></tr>
<tr class="memdesc:a8e2b789a808ae2affa0ff66cf0940bcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct current path substitutor object, supply a new directory name, or a file name located in the required path.  <a href="#a8e2b789a808ae2affa0ff66cf0940bcf">More...</a><br /></td></tr>
<tr class="separator:a8e2b789a808ae2affa0ff66cf0940bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9af17adaa2e779d2ff20c5e9f5683d03"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9af17adaa2e779d2ff20c5e9f5683d03"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_current_path_substitutor.html#a9af17adaa2e779d2ff20c5e9f5683d03">~MCurrentPathSubstitutor</a> ()</td></tr>
<tr class="memdesc:a9af17adaa2e779d2ff20c5e9f5683d03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the object, and restore the old default path which existed at the time of creation of the object. <br /></td></tr>
<tr class="separator:a9af17adaa2e779d2ff20c5e9f5683d03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a927ce7b894f5178a83aa2e29593a5d25"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a927ce7b894f5178a83aa2e29593a5d25"></a>
const <a class="el" href="group___m_c_o_r_e.html#gae0f1a09eb8dfba6a5cf718419b3a0304">MStdString</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_current_path_substitutor.html#a927ce7b894f5178a83aa2e29593a5d25">GetSavedCurrentPath</a> () const </td></tr>
<tr class="memdesc:a927ce7b894f5178a83aa2e29593a5d25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the old application path which existed before the constructor of this class has attempted to set a new path. <br /></td></tr>
<tr class="separator:a927ce7b894f5178a83aa2e29593a5d25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67b5ec7c49df878b1144a9cb07c855f2"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group___m_c_o_r_e.html#gae0f1a09eb8dfba6a5cf718419b3a0304">MStdString</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_current_path_substitutor.html#a67b5ec7c49df878b1144a9cb07c855f2">GetNewCurrentPath</a> () const </td></tr>
<tr class="memdesc:a67b5ec7c49df878b1144a9cb07c855f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the new application path, which was attempted to be set in the constructor of this class.  <a href="#a67b5ec7c49df878b1144a9cb07c855f2">More...</a><br /></td></tr>
<tr class="separator:a67b5ec7c49df878b1144a9cb07c855f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Locally substitute the current path of an application to another current path. </p>
<p>The previous current path is restored in the destructor of the class. Worth noting that this call shall be used with caution in a multithreaded environment, as it replaces process current path. Therefore, if some other thread makes the same call, or expects the current path to stay unchanged, the behavior will be undefined.</p>
<p>This class would be used in a function that needs to temporarily set a different current path, and might throw an exception. The algorithms of this class ensure that the current application path will be restored whether or not an exception is thrown, or a function ended peacefully. To make this class work, one needs to declare a local variable of this class as a automatic stack-based variable, like: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> MyFuncThatNeedsToSubstitutePath()</div><div class="line">{</div><div class="line">    <a class="code" href="class_m_current_path_substitutor.html">MCurrentPathSubstitutor</a> substitutePath(<span class="stringliteral">&quot;c:\\new\\temporary\\path&quot;</span>);</div><div class="line">    .... <span class="comment">// this is where the path will be new</span></div><div class="line">} <span class="comment">// after the function returns in whatever way, the old path will be restored </span></div></div><!-- fragment --><p> Static service GetCurrentPath of <a class="el" href="class_m_utilities.html" title="Provides useful services like timers, data type conversions, path and file manipulation, etc. ">MUtilities</a> can be used at any time to get the current path.</p>
<p>Note there is a popular C++ logic error not to mention the variable after the class. Like in the example above, one could omit substitutePath without the compiler complaining. However in this case the path will be substituted per only one line of code (up the semicolon), which is not an intent of this class. Also, one shall not attempt to copy or compare this class. Provisions through private services are made. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8e2b789a808ae2affa0ff66cf0940bcf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MCurrentPathSubstitutor::MCurrentPathSubstitutor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group___m_c_o_r_e.html#gae0f1a09eb8dfba6a5cf718419b3a0304">MStdString</a> &amp;&#160;</td>
          <td class="paramname"><em>newPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct current path substitutor object, supply a new directory name, or a file name located in the required path. </p>
<p>In case of failure, this constructor will not throw an exception, but property GetNewCurrentPath will be empty if path could not be changed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newPath</td><td>The new current directory name. The directory should exist, and have appropriate permissions for the current user, or the behavior is undefined, otherwise the path will not be changed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a67b5ec7c49df878b1144a9cb07c855f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="group___m_c_o_r_e.html#gae0f1a09eb8dfba6a5cf718419b3a0304">MStdString</a>&amp; MCurrentPathSubstitutor::GetNewCurrentPath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the new application path, which was attempted to be set in the constructor of this class. </p>
<ul>
<li>If the path was replaced, this is the same as the file or directory given.</li>
<li>If the path was not set for any reason, this will be an empty string. </li>
</ul>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_m_current_path_substitutor.html">MCurrentPathSubstitutor</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
